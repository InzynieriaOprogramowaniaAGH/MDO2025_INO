FROM node:18 AS next-build

ARG NEXTAUTH_URL
ARG NEXTAUTH_SECRET
ARG NEXT_PUBLIC_BASE_API_URL
ARG NEXT_PUBLIC_EXAMPLE_URL

ENV NEXTAUTH_URL=$NEXTAUTH_URL
ENV NEXTAUTH_SECRET=$NEXTAUTH_SECRET
ENV NEXT_PUBLIC_BASE_API_URL=$NEXT_PUBLIC_BASE_API_URL
ENV NEXT_PUBLIC_EXAMPLE_URL=$NEXT_PUBLIC_EXAMPLE_URL

RUN git clone https://github.com/gdwmw/Next.js-Boilerplate.git /Next.js-Boilerplate
WORKDIR /Next.js-Boilerplate


RUN npm install
RUN npm run build