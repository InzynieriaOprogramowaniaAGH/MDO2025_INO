# Zajęcia 08

## Konfiguracja maszyny zdalnej 

![img](./img/image32.png)

![img](./img/image45.png)

![alt text](./img/1.png)

![img](./img/image11.png)

## Kuminikacja między maszynami poprzez SSH

![img](./img/image34.png)

![img](./img/image35.png)

![img](./img/image37.png)

![img](./img/image25.png)

## Utworzenie i uruchomienie ansible playbooka

![img](./img/image9.png)

![img](./img/image14.png)

![alt text](./img/2.png) 

![alt text](./img/3.png) 

![alt text](./img/4.png)

# Zajęcia 09

## Wyodrębnienie i przeprowadzenie instalacji za pomocą pliku kicktart

![img](./img/image43.png)

    # Generated by Anaconda 41.35
    # Generated by pykickstart v3.58
    #version=DEVEL

    # Keyboard layouts
    keyboard --vckeymap=pl --xlayouts='pl'
    # System language
    lang pl_PL.UTF-8

    # Network information
    network  --bootproto=dhcp --device=enp0s3 --ipv6=auto --activate --hostname=fedora-server

    %packages
    @^server-product-environment

    %end

    # Run the Setup Agent on first boot
    firstboot --enable

    # Repos
    url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-41&arch=x86_64
    repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f41&arch=x86_64

    # Generated using Blivet version 3.11.0
    ignoredisk --only-use=sda
    autopart
    # Partition clearing information
    clearpart --all

    # System timezone
    timezone Europe/Warsaw --utc

    # Root password
    rootpw --iscrypted --allow-ssh $y$j9T$Pn5OIqlK3DDm0LYXfIuqbSAF$IfAFKMGeIBtuxRf3.bHdSaTb9vGO2olpI2mSL3EOy.8
    user --groups=wheel --name=azakrecka --password=$y$j9T$Jl7PoImDsug.iY7YqcZg33BK$pd.7W7IGljtNjo5ImnqcvKsUYotHJo0xlE5.DybtL30 --iscrypted --gecos="Aleksandra Zakrecka"

    reboot
![img](./img/image18.png)

![img](./img/image46.png)

## Utworzenie własnego repozytorium w celu udostępnienia artefaktu

![img](./img/image6.png)

![img](./img/image5.png)

![img](./img/image8.png)

![img](./img/image41.png)

![img](./img/image24.png)

![img](./img/image22.png)

![image23.png](./img/image23.png)

## Przeprowadzenioe instalacji zawierajacej artefakt

    %packages
    @^server-product-environment
    redis-20250427203018-1.fc42.x86_64
    %end

    %post --log=/root/post-install.log

    cat <<EOF > /etc/systemd/system/redis.service
    [Unit]
    Description=Redis In-Memory Data Store
    After=network.target

    [Service]
    ExecStart=/usr/local/bin/redis-server
    Restart=always
    User=root
    Group=root

    [Install]
    WantedBy=multi-user.target
    EOF

    systemctl daemon-reexec
    systemctl daemon-reload
    systemctl enable redis

    %end

![image42.png](./img/image42.png)

# Zajęcia 10

## Instalacja i konfiguracja kubernesta

![image33.png](./img/image33.png)

![image36.png](./img/image36.png)

![image2.png](./img/image2.png)

![image44.png](./img/image44.png)

## Utworzenie obrazu aplikacji z własnymi ustawieniami 

![image4.png](./img/image4.png)

![image21.png](./img/image21.png)

    docker run -d --name my-custom-redis -p 6379:6379 custom-redis

![image3.png](./img/image3.png)

![image39.png](./img/image39.png)

![image28.png](./img/image28.png)

## Załadowanie obrazu i uruchomienie Poda

![image30.png](./img/image30.png)

    minikube kubectl -- run custom-redis-pod --image=custom-redis --port=6379 --labels app=custom-redis --image-pull-policy=Never

![image27.png](./img/image27.png)

## Przekierowanie portów i test działania 

    kubectl port-forward pod/custom-redis-pod 6379:6379

![image31.png](./img/image31.png)

![image7.png](./img/image7.png)

![image16.png](./img/image16.png)

![image15.png](./img/image15.png)

## Utworzenie Deploymentu z obrazu 

    kubectl create deployment custom-redis   --image=custom-redis   --dry-run=client -o yaml > redis-deploy.yaml

![image20.png](./img/image20.png)

    spec:
    replicas: 5
    selector:
        matchLabels:
        app: custom-redis
    template:
        metadata:
        creationTimestamp: null
        labels:
            app: custom-redis
        spec:
        containers:
            - name: custom-redis
            image: custom-redis
            resources: {}
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            imagePullPolicy: Never
        restartPolicy: Always
        terminationGracePeriodSeconds: 30
        dnsPolicy: ClusterFirst
        securityContext: {}
        schedulerName: default-scheduler

![image1.png](./img/image1.png)

![image29.png](./img/image29.png)

![image26.png](./img/image26.png)

## Przekierowanie portów i test działania 

![image40.png](./img/image40.png)

![image12.png](./img/image12.png)

![image17.png](./img/image17.png)

![image19.png](./img/image19.png)

![image38.png](./img/image38.png)

![image13.png](./img/image13.png)

# Zajęcia 11

![alt text](./img/image022.png)

![alt text](./img/image014.png)

![alt text](./img/image025.png)

![alt text](./img/image04.png)

    minikube image load redis-custom:vx

![alt text](./img/image019.png)

![alt text](./img/image021.png)

![alt text](./img/image100.png)

![alt text](./img/image06.png)

![alt text](./img/image023.png)

![alt text](./img/image011.png)

![alt text](./img/image03.png)

![alt text](./img/image08.png)

![alt text](./img/image018.png)

![alt text](./img/image09.png)

![alt text](./img/image024.png)

![alt text](./img/image020.png)

![alt text](./img/image05.png)

![alt text](./img/image015.png)

![alt text](./img/image013.png)

![alt text](./img/image016.png)

![alt text](./img/image07.png)

![alt text](./img/image02.png)

![alt text](./img/image2-1.png)

![alt text](./img/image01.png)