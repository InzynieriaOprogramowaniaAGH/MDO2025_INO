Started by user Tomasz Oszczypko
Obtained ITE/GCL06/TO417248/Sprawozdanie2/006-Class/Jenkinsfile from git https://github.com/InzynieriaOprogramowaniaAGH/MDO2025_INO
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/Toasty Pipeline
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/Toasty Pipeline/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/InzynieriaOprogramowaniaAGH/MDO2025_INO # timeout=10
Using shallow fetch with depth 1
Fetching upstream changes from https://github.com/InzynieriaOprogramowaniaAGH/MDO2025_INO
 > git --version # timeout=10
 > git --version # 'git version 2.39.5'
 > git fetch --tags --force --progress --depth=1 -- https://github.com/InzynieriaOprogramowaniaAGH/MDO2025_INO +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/TO417248^{commit} # timeout=10
Checking out Revision 6ed6a2dc5face35c5be00ca9a5a61eae78c1d946 (refs/remotes/origin/TO417248)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 6ed6a2dc5face35c5be00ca9a5a61eae78c1d946 # timeout=10
Commit message: "TO417248 prune system in Jenkinsfile"
 > git rev-list --no-walk 92fe30b024f821d0f8d555dac199ab3376717e8e # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Clean)
[Pipeline] echo
Cleaning...
[Pipeline] sh
+ rm -fr MDO2025_INO
[Pipeline] sh
+ docker system prune --all --force --volumes
Deleted Images:
untagged: toasty-test:latest
deleted: sha256:8c8824004ab7457596337f284e1db14cc8b0941c35bbace899761cfc32e8fd98
deleted: sha256:178d649a6544bf6681d1f87f8d36d82b5253841ee770ffbd378bda4bf28a99de
deleted: sha256:e4503570e0e166ae43a0f91b2badb3e836abd557d2e9bb40b5d26c399039df99
untagged: toasty:latest
deleted: sha256:a3a1215300913c4520f5eb76f453ff10f33120445d82fa335d1752090ded9c14

Deleted build cache objects:
uyvg7qtszywz9y3x6xuebrrub
fq56ucjsqfsh53f273pya9hy1
tajdnvz6eagy31elpd7p4hkkg
uf80uzy4jgtou3k1f8eqph1pn
oz1lmkl544f4gfumkjyco28sb
ry98rxr5os5wzxy2jgwms02ol
zxjapgfhc5gzce7mgrv3fm72v
nw46yg8dq1zrbi2adubojvl9m
d8652r6i88dhks211emi8o47e
os6dlrcvm7o215iv7j15l3mqq
zfmkp1rrtlm0d437n7jky6oqa
7eo4cx28dic3nbh378yyurzg3
xgcw84o1e9vtle8mqzjhzwhkh
rt4pcyxjfv0zg6r4bmjb4msru
cpbemhfjgmp53h4szg0lrgqqa
uje6grsb0x5rel2hkbn0zmbxo
4cd4eowb93ifke00xjvkta08m
x6myudy7y8lxiqb07cxfxptn8
y68xduu6kda9rlr7hasyy4a1f
sf7wbtv3ahc47svg6tugojzp7
fzvbu7cwvyxj60s4zka5xfc3a
13cbzhs285ljaihpkk9hrp5u0

Total reclaimed space: 160.3kB
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Clone)
[Pipeline] echo
Cloning...
[Pipeline] sh
+ git clone -b TO417248 --single-branch https://github.com/InzynieriaOprogramowaniaAGH/MDO2025_INO.git
Cloning into 'MDO2025_INO'...
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build)
[Pipeline] echo
Building...
[Pipeline] sh
+ docker build --no-cache -t toasty -f ./MDO2025_INO/ITE/GCL06/TO417248/Sprawozdanie1/003-Class/Dockerfile .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 192B done
#1 DONE 0.2s

#2 [internal] load metadata for docker.io/library/gcc:15.1
#2 DONE 1.7s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s

#4 [1/4] FROM docker.io/library/gcc:15.1@sha256:a25d249ead925cd5144da83bf01b4fc1a32c7dcb5d525bb1e4f8ae4012d02461
#4 resolve docker.io/library/gcc:15.1@sha256:a25d249ead925cd5144da83bf01b4fc1a32c7dcb5d525bb1e4f8ae4012d02461 0.1s done
#4 sha256:a25d249ead925cd5144da83bf01b4fc1a32c7dcb5d525bb1e4f8ae4012d02461 7.64kB / 7.64kB done
#4 sha256:f1f0bbbe36f745469175aae8a18838a39c3adfe231d62bfc4294d8d3e292e317 2.49kB / 2.49kB done
#4 sha256:bfef189b938a17dcbb390d3883d68fff1e139b1a2b330f78054d258ac3c8d79d 7.34kB / 7.34kB done
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 0B / 48.49MB 0.3s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 0B / 24.01MB 0.3s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 0B / 64.40MB 0.3s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 3.15MB / 48.49MB 0.7s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 7.34MB / 48.49MB 1.2s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 11.53MB / 48.49MB 1.6s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 2.10MB / 24.01MB 1.6s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 14.68MB / 48.49MB 2.2s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 4.19MB / 24.01MB 2.5s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 17.83MB / 48.49MB 2.6s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 20.97MB / 48.49MB 3.0s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 6.29MB / 24.01MB 3.2s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 25.17MB / 48.49MB 3.6s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 4.19MB / 64.40MB 3.6s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 8.39MB / 24.01MB 4.0s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 28.31MB / 48.49MB 4.2s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 31.46MB / 48.49MB 4.7s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 10.49MB / 24.01MB 4.8s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 34.60MB / 48.49MB 5.4s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 8.39MB / 64.40MB 5.4s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 12.58MB / 24.01MB 5.5s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 37.75MB / 48.49MB 6.1s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 14.68MB / 24.01MB 6.1s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 16.78MB / 24.01MB 6.6s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 40.89MB / 48.49MB 6.8s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 12.58MB / 64.40MB 6.8s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 18.87MB / 24.01MB 7.3s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 44.04MB / 48.49MB 7.5s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 20.97MB / 24.01MB 7.8s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 47.19MB / 48.49MB 8.1s
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 23.07MB / 24.01MB 8.4s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 16.78MB / 64.40MB 8.4s
#4 sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 48.49MB / 48.49MB 8.4s done
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 0B / 211.33MB 8.5s
#4 extracting sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849
#4 sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 24.01MB / 24.01MB 8.5s done
#4 sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 0B / 2.81MB 8.7s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 20.97MB / 64.40MB 9.4s
#4 sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 1.05MB / 2.81MB 9.4s
#4 sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 2.10MB / 2.81MB 9.6s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 25.17MB / 64.40MB 10.1s
#4 sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 2.81MB / 2.81MB 10.1s
#4 sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 2.81MB / 2.81MB 10.1s done
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 0B / 168.91MB 10.3s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 29.36MB / 64.40MB 10.8s
#4 extracting sha256:23b7d26ef1d294256da0d70ce374277b9aab5ca683015073316005cb63d33849 2.3s done
#4 extracting sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 0.1s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 33.55MB / 64.40MB 11.6s
#4 extracting sha256:07d1b5af933d2dfc3d0dd509d6e20534825e4a537f7b006a6cb5b8e5a1f20905 0.6s done
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 11.53MB / 211.33MB 12.2s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 37.75MB / 64.40MB 12.6s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 41.94MB / 64.40MB 13.4s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 9.44MB / 168.91MB 13.4s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 46.14MB / 64.40MB 14.4s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 50.33MB / 64.40MB 15.4s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 18.87MB / 168.91MB 15.8s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 23.07MB / 211.33MB 16.3s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 54.53MB / 64.40MB 16.5s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 58.72MB / 64.40MB 17.8s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 34.60MB / 211.33MB 18.4s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 28.31MB / 168.91MB 18.8s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 62.91MB / 64.40MB 19.6s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 46.14MB / 211.33MB 20.5s
#4 sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 64.40MB / 64.40MB 20.5s done
#4 extracting sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7
#4 sha256:469d5cb9733d080e80df29dfc14ba41c4af45bd27d146123f87042e8e4d7968c 0B / 9.64kB 20.7s
#4 sha256:469d5cb9733d080e80df29dfc14ba41c4af45bd27d146123f87042e8e4d7968c 9.64kB / 9.64kB 21.2s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 37.75MB / 168.91MB 21.3s
#4 sha256:469d5cb9733d080e80df29dfc14ba41c4af45bd27d146123f87042e8e4d7968c 9.64kB / 9.64kB 21.2s done
#4 sha256:70fc25f9e186f76ecd9867f6e6d2021de81f5e830c94550632044ce6295ea25d 0B / 1.80kB 21.4s
#4 sha256:70fc25f9e186f76ecd9867f6e6d2021de81f5e830c94550632044ce6295ea25d 1.80kB / 1.80kB 21.7s
#4 sha256:70fc25f9e186f76ecd9867f6e6d2021de81f5e830c94550632044ce6295ea25d 1.80kB / 1.80kB 21.7s done
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 57.67MB / 211.33MB 22.2s
#4 extracting sha256:1eb98adba0eb44a2e4facf9ca3626a4a66feedd0dd56d159cca90a35205744e7 2.7s done
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 47.19MB / 168.91MB 23.8s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 69.21MB / 211.33MB 24.6s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 57.67MB / 168.91MB 26.2s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 67.11MB / 168.91MB 27.3s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 76.55MB / 168.91MB 28.3s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 80.74MB / 211.33MB 29.3s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 87.03MB / 168.91MB 29.5s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 97.52MB / 168.91MB 30.8s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 106.95MB / 168.91MB 32.4s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 92.27MB / 211.33MB 33.0s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 116.39MB / 168.91MB 33.8s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 125.83MB / 168.91MB 35.3s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 103.81MB / 211.33MB 36.2s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 135.27MB / 168.91MB 37.3s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 115.34MB / 211.33MB 38.8s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 144.70MB / 168.91MB 39.0s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 154.14MB / 168.91MB 40.9s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 127.93MB / 211.33MB 41.6s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 163.58MB / 168.91MB 42.6s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 139.46MB / 211.33MB 43.7s
#4 sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 168.91MB / 168.91MB 44.1s done
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 150.99MB / 211.33MB 45.2s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 162.53MB / 211.33MB 46.4s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 175.11MB / 211.33MB 47.8s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 187.70MB / 211.33MB 49.4s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 199.23MB / 211.33MB 50.7s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 210.76MB / 211.33MB 51.9s
#4 sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 211.33MB / 211.33MB 52.1s done
#4 extracting sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 0.1s
#4 extracting sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 5.2s
#4 extracting sha256:b617a119f8a27982374d94ec6eb3738ae3d38d6fc2c34c865813926cf596a621 6.0s done
#4 extracting sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a
#4 extracting sha256:66cc9356d444154914a67b20883fd589453857713590b610a145e35d07a7494a 0.1s done
#4 extracting sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df
#4 extracting sha256:aa3991384a4debb67c04b38f5fb86150d92fac1916b89d6df7eb92da831052df 3.8s done
#4 extracting sha256:469d5cb9733d080e80df29dfc14ba41c4af45bd27d146123f87042e8e4d7968c
#4 extracting sha256:469d5cb9733d080e80df29dfc14ba41c4af45bd27d146123f87042e8e4d7968c done
#4 extracting sha256:70fc25f9e186f76ecd9867f6e6d2021de81f5e830c94550632044ce6295ea25d done
#4 DONE 64.9s

#5 [2/4] RUN git clone https://github.com/badzianga/toasty.git
#5 0.597 Cloning into 'toasty'...
#5 DONE 3.8s

#6 [3/4] WORKDIR /toasty
#6 DONE 0.2s

#7 [4/4] RUN make
#7 0.393 mkdir -p build
#7 0.423 rm -f build/toasty.c
#7 0.425 touch build/toasty.c
#7 0.426 echo "#define TOASTY_IMPLEMENTATION" >> build/toasty.c
#7 0.427 echo "#include \"toasty.h\"" >> build/toasty.c
#7 0.428 gcc -O2 -Isrc -c build/toasty.c -o build/toasty.o
#7 0.545 rm -f build/toasty.c
#7 0.546 ar rcs build/libtoasty.a build/toasty.o
#7 DONE 0.7s

#8 exporting to image
#8 exporting layers
#8 exporting layers 0.5s done
#8 writing image sha256:ff3d6347782da091443abacb89638edd189c81c4dd40aee7ff392fe787be1743 done
#8 naming to docker.io/library/toasty 0.0s done
#8 DONE 0.7s
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Test)
[Pipeline] echo
Testing...
[Pipeline] sh
+ docker build --no-cache -t toasty-test -f ./MDO2025_INO/ITE/GCL06/TO417248/Sprawozdanie1/003-Class/Dockerfile.test .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile.test
#1 transferring dockerfile: 138B done
#1 DONE 0.1s

#2 [internal] load metadata for docker.io/library/toasty:latest
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s

#4 [1/1] FROM docker.io/library/toasty:latest
#4 DONE 0.4s

#5 exporting to image
#5 exporting layers done
#5 writing image sha256:af3df436cad60fca9e1428a3908a46d76e4a73c86b7de72736290b5c47da778e done
#5 naming to docker.io/library/toasty-test 0.0s done
#5 DONE 0.1s
[Pipeline] sh
+ docker run --rm -t toasty-test
gcc -Isrc tests/test.c -o build/test -Lbuild -ltoasty
gcc -Isrc tests/test_setup_teardown.c -o build/test_setup_teardown -Lbuild -ltoasty
gcc -Isrc tests/test_int.c -o build/test_int -Lbuild -ltoasty
gcc -Isrc tests/test_float.c -o build/test_float -Lbuild -ltoasty
./build/test
[1;96mRunning 5 tests from tests/test.c:[m
[1;92m[PASS][m test_isTrue
[1;92m[PASS][m test_isFalse
[1;92m[PASS][m test_isEqual
[1;92m[PASS][m test_isNull
[1;92m[PASS][m test_isNotNull
[1;96m========== TEST SUMMARY ==========[m
[1mTotal:[m 5 | [1mPassed:[m 5 | [1mFailed:[m 0
[1;92mAll tests passed![m

./build/test_setup_teardown
[1;96mRunning 2 tests from tests/test_setup_teardown.c:[m
[1;92m[PASS][m test_setUp
[1;92m[PASS][m test_tearDown
[1;96m========== TEST SUMMARY ==========[m
[1mTotal:[m 2 | [1mPassed:[m 2 | [1mFailed:[m 0
[1;92mAll tests passed![m

./build/test_int
[1;96mRunning 15 tests from tests/test_int.c:[m
[1;92m[PASS][m test_EqualInts
[1;92m[PASS][m test_EqualInt8s
[1;92m[PASS][m test_EqualInt16s
[1;92m[PASS][m test_EqualInt32s
[1;92m[PASS][m test_EqualInt64s
[1;92m[PASS][m test_EqualUnsignedInts
[1;92m[PASS][m test_EqualUnsignedInt8s
[1;92m[PASS][m test_EqualUnsignedInt16s
[1;92m[PASS][m test_EqualUnsignedInt32s
[1;92m[PASS][m test_EqualUnsignedInt64s
[1;92m[PASS][m test_EqualHexs
[1;92m[PASS][m test_EqualHex8s
[1;92m[PASS][m test_EqualHex16s
[1;92m[PASS][m test_EqualHex32s
[1;92m[PASS][m test_EqualHex64s
[1;96m========== TEST SUMMARY ==========[m
[1mTotal:[m 15 | [1mPassed:[m 15 | [1mFailed:[m 0
[1;92mAll tests passed![m

./build/test_float
[1;96mRunning 2 tests from tests/test_float.c:[m
[1;92m[PASS][m test_EqualFloat
[1;92m[PASS][m test_EqualDouble
[1;96m========== TEST SUMMARY ==========[m
[1mTotal:[m 2 | [1mPassed:[m 2 | [1mFailed:[m 0
[1;92mAll tests passed![m

[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy)
[Pipeline] echo
Deploying...
[Pipeline] sh
+ docker run --rm toasty bash -c 
                        echo '#include <toasty.h>' > test.c
                        echo 'TEST(test_example) {' >> test.c
                        echo '    TEST_ASSERT_EQUAL(4, 2 + 2);' >> test.c
                        echo '}' >> test.c
                        echo 'int main() {' >> test.c
                        echo '    return RunTests();' >> test.c
                        echo '}' >> test.c
                        
                        gcc test.c -Lbuild -ltoasty -Isrc -o test
                        ./test
                    
[1;96mRunning 1 tests from test.c:[m
[1;92m[PASS][m test_example
[1;96m========== TEST SUMMARY ==========[m
[1mTotal:[m 1 | [1mPassed:[m 1 | [1mFailed:[m 0
[1;92mAll tests passed![m

[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Publish)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
Publishing version: 20250427...
[Pipeline] sh
+ docker run --rm -v /var/jenkins_home/workspace/Toasty Pipeline:/workspace --env VERSION=20250427 toasty bash -c 
                            mkdir -p /tmp/toasty-pkg/usr/local/include
                            mkdir -p /tmp/toasty-pkg/usr/local/lib
                            mkdir -p /tmp/toasty-pkg/DEBIAN
        
                            cp /toasty/src/toasty.h /tmp/toasty-pkg/usr/local/include/
                            cp /toasty/build/libtoasty.a /tmp/toasty-pkg/usr/local/lib/

                            echo "Package: toasty" > /tmp/toasty-pkg/DEBIAN/control
                            echo "Version: ${VERSION}" >> /tmp/toasty-pkg/DEBIAN/control
                            echo "Section: libs" >> /tmp/toasty-pkg/DEBIAN/control
                            echo "Priority: optional" >> /tmp/toasty-pkg/DEBIAN/control
                            echo "Architecture: amd64" >> /tmp/toasty-pkg/DEBIAN/control
                            echo "Maintainer: Tomasz Oszczypko <tomekoszczypko@gmail.com>" >> /tmp/toasty-pkg/DEBIAN/control
                            echo "Description: C unit testing framework." >> /tmp/toasty-pkg/DEBIAN/control
        
                            dpkg-deb --build /tmp/toasty-pkg /workspace/toasty_${VERSION}_amd64.deb
                        
dpkg-deb: building package 'toasty' in '/workspace/toasty_20250427_amd64.deb'.
[Pipeline] archiveArtifacts
Archiving artifacts
Recording fingerprints
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
