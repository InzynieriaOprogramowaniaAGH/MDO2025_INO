# Generated by Anaconda 41.35
# Generated by pykickstart v3.58
#version=DEVEL

# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'
# System language
lang en_US.UTF-8

%packages
@^custom-environment

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.11.0
ignoredisk --only-use=sda
autopart
# Partition clearing information
clearpart --all

# System timezone
timezone Europe/Warsaw --utc

# Root password
rootpw --iscrypted --allow-ssh $y$j9T$UYus3UB1HgDBTiYxtDGWkS1k$2F1g9l8BplA3LN6dBQswOv9b1atl.dDRV.Svq6CswT4
user --groups=wheel --name=user --password=$y$j9T$jpArS4YrJEzsj1.EETgh/u90$p.EUPnmz3eJeg5/y2H3/xCtVQxCoJEnjsVMT0FKRNi9 --iscrypted --gecos="user"

url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-42&arch=x86_64
repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f42&arch=x86_64

network --hostname=Fedora

%post 

dnf -y install dnf-plugins-core
dnf config-manager --add-repo=https://download.docker.com/linux/fedora/docker-ce.repo

dnf install -y docker-ce docker-ce-cli containerd.io

systemctl enable docker

usermod -aG docker ignite

cat << 'EOF' > /etc/rc.d/rc.local

docker pull cumil/apache-basic:latest
docker run -d --name apache_container cumil/apache-basic:latest
EOF

%end
